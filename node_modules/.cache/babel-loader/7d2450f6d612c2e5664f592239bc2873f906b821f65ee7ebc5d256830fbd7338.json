{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[itemAmount,setItemAmount]=useState(0);const[total,setTotal]=useState(0);useEffect(()=>{const total=cart.reduce((accumulator,currentItem)=>{return accumulator+currentItem.price*currentItem.amount;},0);setTotal(total);},[cart]);useEffect(()=>{if(cart){const amount=cart.reduce((accumulator,currentItem)=>{return accumulator+currentItem.amount;},0);setItemAmount(amount);}},[cart]);const addToCart=(product,id)=>{const newItem={...product,amount:1};const cartItem=cart.find(item=>item.id===id);if(cartItem){const newCart=cart.map(item=>item.id===id?{...item,amount:item.amount+1}:item);setCart(newCart);}else{setCart([...cart,newItem]);}};const removeFromCart=id=>{const newCart=cart.filter(item=>{return item.id!==id;});setCart(newCart);};const clearCart=()=>{setCart([]);};const increaseAmount=id=>{const cartItem=cart.find(item=>item.id===id);addToCart(cartItem,id);};const decreaseAmount=id=>{const cartItem=cart.find(item=>{return item.id===id;});if(cartItem){const newCart=cart.map(item=>{if(item.id===id){return{...item,amount:cartItem.amount-1};}else{return item;}});setCart(newCart);}if(cartItem.amount<2){removeFromCart(id);}};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,addToCart,removeFromCart,clearCart,increaseAmount,decreaseAmount,itemAmount,total},children:children});};export default CartProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","CartContext","CartProvider","children","cart","setCart","itemAmount","setItemAmount","total","setTotal","reduce","accumulator","currentItem","price","amount","addToCart","product","id","newItem","cartItem","find","item","newCart","map","removeFromCart","filter","clearCart","increaseAmount","decreaseAmount"],"sources":["/Users/alisonrobichaux/Desktop/Coursework/Capstone/capstone-ecom-final/src/contexts/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\nexport const CartContext = createContext();\n\nconst CartProvider = ({ children }) => {\n  const [cart, setCart] = useState([]);\n  const [itemAmount, setItemAmount] = useState(0);\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    const total = cart.reduce((accumulator, currentItem) => {\n      return accumulator + currentItem.price * currentItem.amount;\n    }, 0);\n    setTotal(total);\n  }, [cart]);\n\n  useEffect(() => {\n    if (cart) {\n      const amount = cart.reduce((accumulator, currentItem) => {\n        return accumulator + currentItem.amount;\n      }, 0);\n      setItemAmount(amount);\n    }\n  }, [cart]);\n\n  const addToCart = (product, id) => {\n    const newItem = { ...product, amount: 1 };\n\n    const cartItem = cart.find((item) => item.id === id);\n\n    if (cartItem) {\n      const newCart = cart.map((item) =>\n        item.id === id ? { ...item, amount: item.amount + 1 } : item\n      );\n      setCart(newCart);\n    } else {\n      setCart([...cart, newItem]);\n    }\n  };\n\n  const removeFromCart = (id) => {\n    const newCart = cart.filter((item) => {\n      return item.id !== id;\n    });\n    setCart(newCart);\n  };\n\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  const increaseAmount = (id) => {\n    const cartItem = cart.find((item) => item.id === id);\n    addToCart(cartItem, id);\n  };\n\n  const decreaseAmount = (id) => {\n    const cartItem = cart.find((item) => {\n      return item.id === id;\n    });\n    if (cartItem) {\n      const newCart = cart.map((item) => {\n        if (item.id === id) {\n          return { ...item, amount: cartItem.amount - 1 };\n        } else {\n          return item;\n        }\n      });\n      setCart(newCart);\n    }\n    if (cartItem.amount < 2) {\n      removeFromCart(id);\n    }\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        addToCart,\n        removeFromCart,\n        clearCart,\n        increaseAmount,\n        decreaseAmount,\n        itemAmount,\n        total,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,2CAElE,MAAO,MAAMC,YAAW,cAAGH,aAAa,EAAE,CAE1C,KAAMI,aAAY,CAAG,MAAkB,IAAjB,CAAEC,QAAS,CAAC,MAChC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACO,UAAU,CAAEC,aAAa,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAErCC,SAAS,CAAC,IAAM,CACd,KAAMQ,MAAK,CAAGJ,IAAI,CAACM,MAAM,CAAC,CAACC,WAAW,CAAEC,WAAW,GAAK,CACtD,MAAOD,YAAW,CAAGC,WAAW,CAACC,KAAK,CAAGD,WAAW,CAACE,MAAM,CAC7D,CAAC,CAAE,CAAC,CAAC,CACLL,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEVJ,SAAS,CAAC,IAAM,CACd,GAAII,IAAI,CAAE,CACR,KAAMU,OAAM,CAAGV,IAAI,CAACM,MAAM,CAAC,CAACC,WAAW,CAAEC,WAAW,GAAK,CACvD,MAAOD,YAAW,CAAGC,WAAW,CAACE,MAAM,CACzC,CAAC,CAAE,CAAC,CAAC,CACLP,aAAa,CAACO,MAAM,CAAC,CACvB,CACF,CAAC,CAAE,CAACV,IAAI,CAAC,CAAC,CAEV,KAAMW,UAAS,CAAG,CAACC,OAAO,CAAEC,EAAE,GAAK,CACjC,KAAMC,QAAO,CAAG,CAAE,GAAGF,OAAO,CAAEF,MAAM,CAAE,CAAE,CAAC,CAEzC,KAAMK,SAAQ,CAAGf,IAAI,CAACgB,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CAEpD,GAAIE,QAAQ,CAAE,CACZ,KAAMG,QAAO,CAAGlB,IAAI,CAACmB,GAAG,CAAEF,IAAI,EAC5BA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAG,CAAE,GAAGI,IAAI,CAAEP,MAAM,CAAEO,IAAI,CAACP,MAAM,CAAG,CAAE,CAAC,CAAGO,IAAI,CAC7D,CACDhB,OAAO,CAACiB,OAAO,CAAC,CAClB,CAAC,IAAM,CACLjB,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAEc,OAAO,CAAC,CAAC,CAC7B,CACF,CAAC,CAED,KAAMM,eAAc,CAAIP,EAAE,EAAK,CAC7B,KAAMK,QAAO,CAAGlB,IAAI,CAACqB,MAAM,CAAEJ,IAAI,EAAK,CACpC,MAAOA,KAAI,CAACJ,EAAE,GAAKA,EAAE,CACvB,CAAC,CAAC,CACFZ,OAAO,CAACiB,OAAO,CAAC,CAClB,CAAC,CAED,KAAMI,UAAS,CAAG,IAAM,CACtBrB,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAED,KAAMsB,eAAc,CAAIV,EAAE,EAAK,CAC7B,KAAME,SAAQ,CAAGf,IAAI,CAACgB,IAAI,CAAEC,IAAI,EAAKA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CACpDF,SAAS,CAACI,QAAQ,CAAEF,EAAE,CAAC,CACzB,CAAC,CAED,KAAMW,eAAc,CAAIX,EAAE,EAAK,CAC7B,KAAME,SAAQ,CAAGf,IAAI,CAACgB,IAAI,CAAEC,IAAI,EAAK,CACnC,MAAOA,KAAI,CAACJ,EAAE,GAAKA,EAAE,CACvB,CAAC,CAAC,CACF,GAAIE,QAAQ,CAAE,CACZ,KAAMG,QAAO,CAAGlB,IAAI,CAACmB,GAAG,CAAEF,IAAI,EAAK,CACjC,GAAIA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAE,CAClB,MAAO,CAAE,GAAGI,IAAI,CAAEP,MAAM,CAAEK,QAAQ,CAACL,MAAM,CAAG,CAAE,CAAC,CACjD,CAAC,IAAM,CACL,MAAOO,KAAI,CACb,CACF,CAAC,CAAC,CACFhB,OAAO,CAACiB,OAAO,CAAC,CAClB,CACA,GAAIH,QAAQ,CAACL,MAAM,CAAG,CAAC,CAAE,CACvBU,cAAc,CAACP,EAAE,CAAC,CACpB,CACF,CAAC,CAED,mBACE,KAAC,WAAW,CAAC,QAAQ,EACnB,KAAK,CAAE,CACLb,IAAI,CACJW,SAAS,CACTS,cAAc,CACdE,SAAS,CACTC,cAAc,CACdC,cAAc,CACdtB,UAAU,CACVE,KACF,CAAE,UAEDL,QAAQ,EACY,CAE3B,CAAC,CAED,cAAeD,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}